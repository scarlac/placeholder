/**
 * Placeholder - https://github.com/danbentley/placeholder
 * Spoofs placeholders in browsers that don't support them (eg Firefox 3)
 * Copyright 2011 Dan Bentley, Licensed under the Apache License 2.0
 * Author: Dan Bentley [github.com/danbentley]
 * Fork by: Seph Soliman [seph.dk]
 */
(function($){if("placeholder"in document.createElement("input"))return;var settings={'placeholder_class':'placeholder'};$(document).ready(function(){$(':input[placeholder]').not(':password').each(function(){setupPlaceholder($(this));});$(':password[placeholder]').each(function(){setupPasswords($(this));});$('form').submit(function(e){clearPlaceholdersBeforeSubmit($(this));});});function setupPlaceholder(input){var placeholderText=input.attr('placeholder');setPlaceholderOrFlagChanged(input,placeholderText);input.focus(function(e){if(input.data('changed')===true)return;if(input.val()===placeholderText)input.val('').removeClass(settings.placeholder_class);}).blur(function(e){if(input.val()==='')input.val(placeholderText).addClass(settings.placeholder_class);}).change(function(e){input.data('changed',input.val()!=='');});}
function setPlaceholderOrFlagChanged(input,text){(input.val()==='')?input.val(text).addClass(settings.placeholder_class):input.data('changed',true);}
function setupPasswords(input){var passwordPlaceholder=createPasswordPlaceholder(input);input.after(passwordPlaceholder);(input.val()==='')?input.hide():passwordPlaceholder.hide();$(input).blur(function(e){if(input.val()!=='')return;input.hide();passwordPlaceholder.show();});$(passwordPlaceholder).focus(function(e){input.show().focus();passwordPlaceholder.hide();});}
function createPasswordPlaceholder(input){return $('<input>').attr({placeholder:input.attr('placeholder'),value:input.attr('placeholder'),id:input.attr('id'),readonly:true,'class':settings.placeholder_class}).addClass(input.attr('class'));}
function clearPlaceholdersBeforeSubmit(form){form.find(':input[placeholder]').each(function(){if($(this).data('changed')===true)return;if($(this).val()===$(this).attr('placeholder'))$(this).val('').removeClass(settings.placeholder_class);});}})(jQuery);
